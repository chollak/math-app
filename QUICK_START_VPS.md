# Math App - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –Ω–∞ VPS (PS.kz)

## üéØ –¶–µ–ª—å

–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å Math App –Ω–∞ VPS —Å–µ—Ä–≤–µ—Ä–µ PS.kz –∑–∞ 15 –º–∏–Ω—É—Ç.

## üìã –ß—Ç–æ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è

- ‚úÖ VPS —Å–µ—Ä–≤–µ—Ä –Ω–∞ PS.kz (Ubuntu 20.04/22.04)
- ‚úÖ SSH –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É
- ‚úÖ OpenAI API –∫–ª—é—á
- ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Math App

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –ó–∞–∫–∞–∑ VPS –Ω–∞ PS.kz

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [ps.kz/hosting/vps](https://www.ps.kz/hosting/vps)
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞—Ä–∏—Ñ:
   - **–ú–∏–Ω–∏–º—É–º:** 1 CPU, 1 GB RAM (~3,120 —Ç–≥/–º–µ—Å)
   - **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** 2 CPU, 2 GB RAM (~4,500-5,000 —Ç–≥/–º–µ—Å)
3. –í—ã–±–µ—Ä–∏—Ç–µ –û–°: **Ubuntu 22.04 LTS**
4. –û–ø–ª–∞—Ç–∏—Ç–µ –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ (5-15 –º–∏–Ω—É—Ç)
5. –ü–æ–ª—É—á–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:
   - IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
   - Root –ø–∞—Ä–æ–ª—å

### –®–∞–≥ 2: –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@YOUR_SERVER_IP

# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ root!)
adduser mathapp
usermod -aG sudo mathapp

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
su - mathapp
```

### –®–∞–≥ 3: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –∑–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/chollak/math-app.git ~/apps/math-app
cd ~/apps/math-app

# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x scripts/*.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –ü–û (Node.js, PM2, Nginx –∏ —Ç.–¥.)
./scripts/vps-setup.sh
```

‚è±Ô∏è –≠—Ç–æ –∑–∞–π–º–µ—Ç **3-5 –º–∏–Ω—É—Ç**

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env
nano .env
```

–£–∫–∞–∂–∏—Ç–µ –≤ `.env`:
```env
NODE_ENV=production
PORT=3000

# –í–∞—à OpenAI API –∫–ª—é—á
OPENAI_API_KEY=sk-your-key-here

# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ç–æ–∫–µ–Ω
ADMIN_TOKEN=your-secure-random-token-here
```

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è ADMIN_TOKEN:**
```bash
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª: `Ctrl+O`, `Enter`, `Ctrl+X`

### –®–∞–≥ 5: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
./scripts/app-deploy.sh
```

‚è±Ô∏è –≠—Ç–æ –∑–∞–π–º–µ—Ç **1-2 –º–∏–Ω—É—Ç—ã**

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 3000 –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ä–≤–µ—Ä–∞.

### –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

```bash
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx –∫–∞–∫ reverse proxy
./scripts/nginx-setup.sh
```

–°–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç **–¥–æ–º–µ–Ω –∏–ª–∏ IP –∞–¥—Ä–µ—Å**:
- –ï—Å–ª–∏ –µ—Å—Ç—å –¥–æ–º–µ–Ω: `yourdomain.com`
- –ï—Å–ª–∏ –Ω–µ—Ç –¥–æ–º–µ–Ω–∞: `123.123.123.123` (IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞)

‚è±Ô∏è –≠—Ç–æ –∑–∞–π–º–µ—Ç **1-2 –º–∏–Ω—É—Ç—ã** (–∏–ª–∏ 3-5 –º–∏–Ω—É—Ç —Å SSL)

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://YOUR_DOMAIN_OR_IP
```

–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ curl:
```bash
curl http://YOUR_DOMAIN_OR_IP/health
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å JSON –æ—Ç–≤–µ—Ç:
```json
{
  "status": "OK",
  "message": "Math App API is running",
  "database": "Connected",
  "timestamp": "2025-10-22T..."
}
```

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ!

### –ü–æ–ª–µ–∑–Ω—ã–µ URL:

- **API Root:** `http://YOUR_DOMAIN_OR_IP/`
- **Health Check:** `http://YOUR_DOMAIN_OR_IP/health`
- **Admin Stats:** `http://YOUR_DOMAIN_OR_IP/admin/stats?token=YOUR_ADMIN_TOKEN`

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ backup

```bash
./scripts/backup-setup.sh
```

–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Å—Ç–æ—Ç—É backup –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞

1. –£ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–∞ —Å–æ–∑–¥–∞–π—Ç–µ A-–∑–∞–ø–∏—Å—å:
   ```
   Type: A
   Name: @
   Value: YOUR_SERVER_IP
   TTL: 3600
   ```

2. –ü–µ—Ä–µ–Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx:
   ```bash
   sudo nano /etc/nginx/sites-available/math-app
   # –ò–∑–º–µ–Ω–∏—Ç–µ server_name –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω
   sudo systemctl restart nginx
   ```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:
   ```bash
   sudo apt install -y certbot python3-certbot-nginx
   sudo certbot --nginx -d yourdomain.com
   ```

---

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 status

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pm2 logs math-app

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 restart math-app

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 stop math-app

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 monit
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```bash
cd ~/apps/math-app
./scripts/app-update.sh
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:

```bash
# –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 logs math-app

# –õ–æ–≥–∏ Nginx
sudo tail -f /var/log/nginx/math-app-error.log
```

---

## üÜò –ü—Ä–æ–±–ª–µ–º—ã?

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs math-app --lines 50

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat ~/apps/math-app/.env
```

### Nginx –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 502 Bad Gateway

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ
pm2 status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 restart math-app
```

### –ù–µ –º–æ–≥—É –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall
sudo ufw status

# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
```

---

## üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ:
- **–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:** `VPS_DEPLOYMENT_GUIDE.md`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤:** `scripts/README.md`

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

**VPS PS.kz:**
- –ë–∞–∑–æ–≤—ã–π (1 CPU, 1 GB): ~3,120 —Ç–≥/–º–µ—Å—è—Ü
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π (2 CPU, 2 GB): ~4,500-5,000 —Ç–≥/–º–µ—Å—è—Ü

**OpenAI API:**
- Pay-as-you-go –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- –ü—Ä–∏–º–µ—Ä–Ω–æ $0.002 –∑–∞ 1000 —Ç–æ–∫–µ–Ω–æ–≤ (GPT-4)

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PS.kz

- **–°–∞–π—Ç:** https://www.ps.kz
- **–¢–µ–ª–µ—Ñ–æ–Ω:** +7 (727) 330-20-00
- **Email:** support@ps.kz
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞:** 24/7

---

*–°–æ–∑–¥–∞–Ω–æ: 2025-10-22*
